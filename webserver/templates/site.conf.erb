#A template is much like a PHP app template with variable replacements, 
#loops etc, but for system config files. Think v-hosts, httpd.conf, php.ini etc.

<VirtualHost *:80>
  ServerName <%= node['hostname'] %>
  ServerAdmin 'ops@example.com'

  DocumentRoot <%= node['site']['document_root'] %>
  <Directory />
          Options FollowSymLinks
          AllowOverride None
  </Directory>
  <Directory <%= node['site']['document_root'] %> >
          Options Indexes FollowSymLinks MultiViews
          AllowOverride None
          Order allow,deny
          allow from all
  </Directory>

  ErrorLog /var/log/httpd/error.log

  LogLevel warn

  CustomLog /var/log/httpd/access.log combined
  ServerSignature Off

  AddType application/x-httpd-php .php
  AddType application/x-httpd-php-source .phps
  DirectoryIndex index.php index.html
</VirtualHost>
